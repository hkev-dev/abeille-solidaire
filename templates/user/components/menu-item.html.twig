{# Menu Item Component - Reusable menu item template
   Parameters:
   - label: string (required)
   - url: string|null (optional)
   - icon: string|null (optional)
   - badge: {text: string, class: string}|null (optional)
   - active: boolean (optional)
   - submenu: array|null (optional)
#}

{% macro render(item) %}
	<div class="menu-item {% if item.active|default(false) %}active{% endif %}" {% if item.submenu|default %} data-menu-item-toggle="accordion" data-menu-item-trigger="click" {% endif %}>

		{% if item.url|default and not item.submenu|default %}
			<a href="{{ item.url }}" class="menu-link gap-2.5 py-2 px-2.5 rounded-md border border-transparent menu-item-active:border-gray-200 menu-item-active:bg-light menu-link-hover:bg-light menu-link-hover:border-gray-200">

				{% if item.icon|default %}
					<span class="menu-icon items-start text-gray-600 text-lg">
						<i class="{{ item.icon }}"></i>
					</span>
				{% endif %}

				<span class="menu-title font-medium text-sm text-gray-800">
					{{ item.label }}
				</span>

				{% if item.badge|default %}
					<span class="badge {{ item.badge.class|default('badge-primary') }}">
						{{ item.badge.text }}
					</span>
				{% endif %}
			</a>
		{% else %}
			<div class="menu-link gap-2.5 py-2 px-2.5 rounded-md border border-transparent menu-item-active:border-gray-200 menu-item-active:bg-light menu-link-hover:bg-light menu-link-hover:border-gray-200">

				{% if item.icon|default %}
					<span class="menu-icon items-start text-gray-600 text-lg">
						<i class="{{ item.icon }}"></i>
					</span>
				{% endif %}

				<span class="menu-title font-medium text-sm text-gray-800">
					{{ item.label }}
				</span>

				{% if item.submenu|default %}
					<span class="menu-arrow">
						<i class="ki-filled ki-down text-xs menu-item-show:hidden"></i>
						<i class="ki-filled ki-up text-xs hidden menu-item-show:inline-flex"></i>
					</span>
				{% endif %}
			</div>

			{% if item.submenu|default %}
				<div class="menu-accordion gap-px ps-7">
					{% for subitem in item.submenu %}
						{{ _self.render(subitem) }}
					{% endfor %}
				</div>
			{% endif %}
		{% endif %}
	</div>
{% endmacro %}
